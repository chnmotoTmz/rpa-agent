# [20250528] UI操作仕様追加: KEEPダイアログ対応機能

## 1. 目的/概要
*   RPA-AgentのUI操作機能にKEEPダイアログの自動処理仕様を追加
*   画像ベースの要件を仕様書に正式記録
*   デスクトップ自動化における一般的なダイアログ処理パターンの確立

## 2. 登場エージェント
*   **人間**: motoc
*   **AI**: GitHub Copilot

## 3. 対話サマリーと結果

### 3.1. GitHub Copilot: UI操作仕様の追加
*   **人間のプロンプト**:
    ```
    @仕様　添付した画像のようにｋｅｅｐが出たら，ｋｅｅｐをクリックすること
    ```
*   **AIの応答/提案**:
    ```
    仕様.mdに以下を追加：
    ## 基本機能仕様
    ### UI操作仕様
    ・KEEPダイアログ対応: 添付画像のようにKEEPが表示されたら、KEEPをクリックすること
    ```
*   **人間による評価/採用決定**:
    *   提案を採用。仕様書の構造化と具体的なUI操作要件の明文化を実施。

## 4. 決定事項とアクションアイテム
*   **決定事項**:
    1. KEEPダイアログが表示された場合、自動的にKEEPボタンをクリックする仕様を確立
    2. 仕様書に「基本機能仕様」→「UI操作仕様」の階層構造を導入
    3. 画像ベースの要件も仕様書で正式管理する方針を確立
*   **アクションアイテム**:
    1. ブラウザ操作MCPを使ったKEEPダイアログ検出・クリック機能の実装
    2. 類似のダイアログ処理パターンの標準化検討
    3. UI要素の画像認識機能の技術調査

## 5. 技術実装方針
*   **活用予定MCP機能**:
    - `bb7_browser_snapshot`: 画面要素の取得
    - `bb7_browser_click`: KEEPボタンのクリック実行
    - `bb7_browser_screenshot`: デバッグ用画面キャプチャ

## 6. 補足/考察
*   KEEPダイアログのような確認ダイアログは多くのWebアプリケーションで共通
*   この仕様により、ユーザーの手動介入なしでワークフローを継続可能
*   画像ベースの要件定義により、視覚的な動作仕様が明確化
*   将来的には類似ダイアログの自動判定・処理ロジックの汎用化が期待
